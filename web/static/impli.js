var c=class{enable(t){this.log=R(t===void 0?!0:t,this.prefix)}get enabled(){return this.isEnabled}constructor(t){this.isEnabled=t,this.prefix="wasi:",this.enable(t)}};function R(e,t){return e?console.log.bind(console,"%c%s","color: #265BA0",t):()=>{}}var o=new c(!1);var r=class e{static issue_ino(){return e.next_ino++}static root_ino(){return 0n}constructor(){this.ino=e.issue_ino()}};r.next_ino=1n;var Tt=await(async()=>{if(globalThis.setImmediate)return globalThis.setImmediate;if(globalThis.Deno)try{return(await import("node:timers")).setImmediate}catch{}if(globalThis.scheduler)return(e,...t)=>scheduler.postTask(()=>e(...t));if(globalThis.MessageChannel){class e{#e=[];#t=new MessageChannel;constructor(){this.#t.port1.addEventListener("message",()=>{this.#e.pop()()}),this.#t.port1.start()}setImmediate(i,...u){this.#e.push(()=>i(...u)),this.#t.port2.postMessage(void 0)}}let t=new e;return(n,...i)=>t.setImmediate(n,...i)}return(e,...t)=>setTimeout(e,0,...t)})();
